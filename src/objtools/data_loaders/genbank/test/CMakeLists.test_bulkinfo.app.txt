# $Id$

NCBI_begin_app(test_bulkinfo)
  NCBI_sources(test_bulkinfo bulkinfo_tester)
  NCBI_uses_toolkit_libraries(ncbi_xdbapi_ftds ncbi_xloader_genbank ncbi_xreader_pubseqos ncbi_xreader_pubseqos2 xobjutil)

  NCBI_set_test_assets(bad_len.ids wgs.ids wgs_vdb.ids all_readers.sh ref test_bulkinfo_log.ini)
  NCBI_set_test_timeout(400)

  NCBI_begin_test(test_bulkinfo_gi)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type gi -reference ref/0.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_acc)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type acc -reference ref/0.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_label)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type label -reference ref/0.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_taxid)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type taxid -reference ref/0.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_length)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type length -reference ref/0.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_type)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type type -reference ref/0.type.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_state)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -conffile test_bulkinfo_log.ini -type state -reference ref/0.state.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type hash -reference ref/0.hash.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bioseq)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type bioseq -reference ref/0.bioseq.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_sequence)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type sequence -reference ref/0.sequence.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_cdd)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo -type cdd -reference ref/0.cdd.txt)
  NCBI_end_test()

  NCBI_begin_test(test_bulkinfo_wgs_gi)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type gi -idlist wgs.ids -reference ref/wgs.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_acc)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type acc -idlist wgs.ids -reference ref/wgs.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_label)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type label -idlist wgs.ids -reference ref/wgs.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_taxid)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type taxid -idlist wgs.ids -reference ref/wgs.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_length)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type length -idlist wgs.ids -reference ref/wgs.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_type)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type type -idlist wgs.ids -reference ref/wgs.type.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_state)
    NCBI_set_test_command(all_readers.sh -no-vdb-wgs test_bulkinfo -type state -idlist wgs.ids -reference ref/wgs.state.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_state_vdb)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type state -idlist wgs.ids)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type hash -idlist wgs.ids -reference ref/wgs.hash.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_bioseq)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type bioseq -idlist wgs.ids -reference ref/wgs.bioseq.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_sequence)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type sequence -idlist wgs.ids -reference ref/wgs.sequence.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_cdd)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo -type cdd -idlist wgs.ids -reference ref/wgs.cdd.txt)
  NCBI_end_test()

  NCBI_begin_test(test_bulkinfo_wgs_vdb_gi)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type gi -idlist wgs_vdb.ids -reference ref/wgs_vdb.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_acc)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type acc -idlist wgs_vdb.ids -reference ref/wgs_vdb.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_label)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type label -idlist wgs_vdb.ids -reference ref/wgs_vdb.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_taxid)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type taxid -idlist wgs_vdb.ids -reference ref/wgs_vdb.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_length)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type length -idlist wgs_vdb.ids -reference ref/wgs_vdb.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_type)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type type -idlist wgs_vdb.ids -reference ref/wgs_vdb.type.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_state)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type state -idlist wgs_vdb.ids)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type hash -idlist wgs_vdb.ids -reference ref/wgs_vdb.hash.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_bioseq)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type bioseq -idlist wgs_vdb.ids -reference ref/wgs_vdb.bioseq.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_sequence)
    NCBI_set_test_command(all_readers.sh -vdb-wgs test_bulkinfo -type sequence -idlist wgs_vdb.ids -reference ref/wgs_vdb.sequence.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_wgs_vdb_cdd)
    NCBI_set_test_command(all_readers.sh -vdb-wgs -id2 test_bulkinfo -type cdd -idlist wgs_vdb.ids -reference ref/wgs_vdb.cdd.txt)
  NCBI_end_test()

  NCBI_begin_test(test_bulkinfo_bad_gi)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type gi -idlist bad_len.ids -reference ref/bad_len.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_acc)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type acc -idlist bad_len.ids -reference ref/bad_len.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_label)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type label -idlist bad_len.ids -reference ref/bad_len.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_taxid)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type taxid -idlist bad_len.ids -reference ref/bad_len.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_length)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type length -idlist bad_len.ids -reference ref/bad_len.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_type)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type type -idlist bad_len.ids -reference ref/bad_len.type.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_state)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type state -idlist bad_len.ids -reference ref/bad_len.state.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type hash -idlist bad_len.ids -reference ref/bad_len.hash.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_bioseq)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type bioseq -idlist bad_len.ids -reference ref/bad_len.bioseq.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_sequence)
    NCBI_set_test_command(all_readers.sh test_bulkinfo -type sequence -idlist bad_len.ids -reference ref/bad_len.sequence.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_bad_cdd)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo -type cdd -idlist bad_len.ids -reference ref/bad_len.cdd.txt)
  NCBI_end_test()

  NCBI_project_watchers(vasilche)

NCBI_end_app()
